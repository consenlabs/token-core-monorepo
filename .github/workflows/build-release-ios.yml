name: Build iOS Release

on:
  pull_request_target:
    types: [assigned, opened, synchronize, reopened]

env:
  CARGO_TERM_COLOR: always
  
jobs:

  build:
    name: Build iOS Release
    runs-on: macos-latest

    steps:
        
    - name: Checkout repository
      uses: actions/checkout@v2
      with:
        ref: ${{ github.event.pull_request.head.sha }}
        fetch-depth: 5

    - name: Cache
      uses: actions/cache@v2
      with:
        path: |
          ~/.cargo/registry
          ~/.cargo/git
          ~/.rustup
          target
        key: macos-latest-nightly

    - name: Install Rust
      run: |
        ls -l script/build-android.sh